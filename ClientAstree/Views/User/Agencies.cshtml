@model IEnumerable<ClientAstree.Models.AgencyVM>

@{
    ViewData["Title"] = "Insurance Agencies";
}

<style>
    .bg-image {
        background-image: url('/img/fam1.png');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        min-height: 100vh; /* Ensures it covers the full height of the viewport */
    }

    .content-container {
        background-color: rgba(255, 255, 255, 0.8); /* Light gray for the content container */
        padding: 30px;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        margin: 20px auto;
    }

    .section-header {
        margin-bottom: 20px;
        display: flex;
        align-items: center;
    }

    .section-header i {
        margin-right: 10px;
    }

    .card {
        margin-bottom: 20px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        border-radius: 8px;
    }

    .card-title {
        font-size: 1.25rem;
        font-weight: bold;
    }

    .card-text {
        font-size: 1rem;
    }

    .card-body {
        text-align: center;
    }

    .breadcrumb {
        background-color: transparent;
    }

    .pagination-container {
        background-color: rgba(255, 255, 255, 0.8);
        padding: 10px;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
    }

    .pagination .page-item.active .page-link {
        background-color: #4e6b8b; /* Use your primary color */
        border-color: #4e6b8b;
    }

    .btn-primary {
        background-color: #1E3A7A;
        border-color: #1E3A7A;
        transition: background-color 0.3s ease, box-shadow 0.3s ease;
    }

    .btn-primary:hover {
        filter: brightness(95%);
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
    }

    .text-center {
        text-align: center;
    }

    .text-danger {
        color: #dc3545; /* Bootstrap red */
    }
</style>

<div class="container-fluid bg-image">
    <div class="row">
        <!-- Side Menu on the left -->
        <div class="col-lg-2 col-md-3 col-sm-4 py-0 my-0 px-0 mx-0">
            @await Html.PartialAsync("_SideMenu")
        </div>

        <!-- Main Content Area -->
        <div class="col-lg-10 col-md-9 col-sm-8">
            <div class="content-container">
                <div class="section-header">
                    <i class="fas fa-map-marker-alt"></i>
                    <h4>Insurance Agencies</h4>
                </div>
                <hr />
                <div class="row">
                    @foreach (var agency in Model)
                    {
                        <div class="col-lg-4 col-md-6 col-sm-12 mb-4">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="card-title">@agency.Name</h5>
                                    <p class="card-text">@agency.Address</p>
                                    <div id="map-@agency.Id" style="height: 200px;"></div>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>
    <footer class="footer footer-big" data-background-color="black">
            <div class="container">
              <div class="content">
                <div class="row">
                  <div class="col-md-4">
           
                    <div class="social-feed">
                                            <div class="feed-line">
                        <img src="/img/logo-white.png" alt="">
                      </div>
                               <br>
                      <div class="feed-line">
                    
                        <p>Vous voulez fractionner le paiement de votre prime d’assurance Auto chez ASTREE sur une année et sans intérêts ?
Oui c’est possible...</p>
                      </div>
                      <div class="feed-line">
                     
<p>En savoir plus</p>                      </div>

                    </div>
                  </div>
                  <div class="col-md-2">
                    <h5>Côté Pratique</h5>
                    <ul class="links-vertical">
                      <li>
                        <a href="https://www.astree.com.tn/taches-courantes/remplir-un-constat/" class="text-muted">
                          Remplir un constat ?
                        </a>
                      </li>
                      <li>
                        <a href="https://www.astree.com.tn/taches-courantes/foires-aux-questions/" class="text-muted">
                          Foires aux Questions 
                        </a>
                      </li>
                      <li>
                        <a href="https://www.astree.com.tn/taches-courantes/glossaire/" class="text-muted">
                          Glossaire
                        </a>
                      </li>
                      <li>
                        <a href="https://www.astree.com.tn/taches-courantes/liens-utiles/" class="text-muted">
                          Liens utiles
                        </a>
                      </li>
                    </ul>
                  </div>
                  <div class="col-md-2">
                    <h5>Siège Social</h5>
                    <ul class="links-vertical">
                      <li>
                        <a href="#pablo" class="text-muted">
                          45, Avenue Kheireddine Pacha,
B.P. 780 TUNIS Cedex
                        </a>
                      </li>
                      <li>
                        <a href="#pablo" class="text-muted">
                         (+216) 71 90 42 11
                        </a>
                      </li>
                      <li>
                        <a href="#pablo" class="text-muted">
                          courrier@astree.com.tn
                        </a>
                      </li>
                    </ul>
                  </div>

                  <div class="col-md-4">
                    <h5>Follow Us</h5>
                    <ul class="social-buttons">
                      <li>
                        <a href="#pablo" class="btn btn-icon btn-neutral btn-twitter btn-round">
                          <i class="fab fa-twitter"></i>
                        </a>
                      </li>
                      <li>
                        <a href="#pablo" class="btn btn-icon btn-neutral btn-facebook btn-round">
                          <i class="fab fa-facebook-square"></i>
                        </a>
                      </li>
                      <li>
                        <a href="#pablo" class="btn btn-icon btn-neutral btn-dribbble btn-round">
                          <i class="fab fa-dribbble"></i>
                        </a>
                      </li>
                      <li>
                        <a href="#pablo" class="btn btn-icon btn-neutral btn-google btn-round">
                          <i class="fab fa-google-plus"></i>
                        </a>
                      </li>
                      <li>
                        <a href="#pablo" class="btn btn-icon btn-neutral btn-instagram btn-round">
                          <i class="fab fa-instagram"></i>
                        </a>
                      </li>
                    </ul>
                    <h5>
                      <small>Numbers Don't Lie</small>
                    </h5>
                    <h5>14.521
                      <small class="text-muted">Freelancers</small>
                    </h5>
                    <h5>1.423.183
                      <small class="text-muted">Transactions</small>
                    </h5>
                  </div>
                </div>
              </div>
              <hr>
              <div class="copyright">
                Copyright ©
                <script>
                  document.write(new Date().getFullYear())
                </script>2024 Creative Tim All Rights Reserved.
              </div>
            </div>
          </footer>
          
@section Scripts {
    <script>
        function initMap() {
            @foreach (var agency in Model)
            {
                <text>
                var mapOptions = {
                    center: new google.maps.LatLng(@agency.Latitude, @agency.Longitude),
                    zoom: 15
                };
                var map = new google.maps.Map(document.getElementById("map-@agency.Id"), mapOptions);
                var marker = new google.maps.Marker({
                    position: { lat: @agency.Latitude, lng: @agency.Longitude },
                    map: map,
                    title: "@agency.Name"
                });
                </text>
            }
        }
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBp8wU-bvqWRahwRqvqHG94siT1EtiSnhk&callback=initMap"></script>
}
